<header class="container">
  <div class="row">
    <h1 class="title col-xs-12">Eat-Da-Burger</h1>
  </div>
</header>

<!-- burger list start -->
<div class="container burgerList" id="undevBurgers">
  <h2>Burgers</h2>
  <ul>
    {{#each burgers}}
      {{#unless this.devoured}}
        <li>
          {{this.burger_name}}
            <input type="button" data-id="{{this.id}}" class="devourBtn" name="devoured" value="Devour">
        </li>
      {{/unless}}
    {{/each}}
  </ul>
</div>
<!-- burger list end -->

<!-- devoured list start -->
<div class="container burgerList" id="devBurgers">
  <h2>Devoured</h2>
  <ul class="devouredList">
    {{#each burgers}}
      {{#if this.devoured}}
        <li>
          {{this.burger_name}}
        </li>
      {{/if}}
    {{/each}}
  </ul>
</div>
<!-- devoured list end -->

<div class="container burgerForm">
  <h2>Add a Burger</h2>
  <form class="create-update-form" action="/" method="POST">
    <div class="form-group">
      <label for="ca">Burger Name:</label>
      <input type="text" id="ca" name="burger_name">
    </div>
    <button type="submit">Add Burger</button>
  </form>
</div>

<script type="text/javascript">

$(document).on('click', '.devourBtn', function(event) {
  console.log('Yay')
  $.ajax({
      method: 'PUT',
      url: '/' + $(event.target).data('id'),
      data: {
        'devoured': 1,
        '_method': 'PUT'
      },
      success: function (balls) {
        var $parent = $(event.target).parent();
        var newList = $parent[0].innerText;

        console.log(newList);
        $('<li>' + newList + '</li>').appendTo(".devouredList");
        $parent.remove();
      }
  });
})

</script>
